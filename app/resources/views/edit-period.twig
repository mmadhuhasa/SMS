{% extends 'applayout.twig' %}
{% block header_scripts %}
<link rel="stylesheet" href="{{ base_url() }}/vendor/jquery-datatable/dataTables.bootstrap4.min.css">
<link rel="stylesheet" href="{{ base_url() }}/vendor/bootstrap-multiselect/bootstrap-multiselect.css">
<link rel="stylesheet" href="{{ base_url() }}/vendor/select2/select2.css" />
<link rel="stylesheet" href="{{ base_url() }}/vendor/sweetalert2/dist/sweetalert2.css"/>
{% endblock %}
{% block header %}
{% include 'partials/top-header.twig' %}
{% endblock %}

{% block appnav %}
{% include 'partials/appnav.twig' %}
{% endblock %}

{% block content %}
       <div id="main-content">
        <div class="container">
            <div class="block-header">
                <div class="row">
                    <div class="col-lg-5 col-md-8 col-sm-12">                        
                        <h2>Update Period</h2>
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a href="{{ base_url() }}/admin-dashboard"><i class="icon-home"></i></a></li>                            
                             <li class="breadcrumb-item"><a href="{{ base_url() }}/timetable"> Timetable</a></li>
                             <li class="breadcrumb-item">Update Period</li>
                        </ul>
                    </div>            
                    <div class="col-lg-7 col-md-4 col-sm-12 text-right">
                         <a href="{{ base_url() }}/manage-periods"><button type="button" class="btn btn-primary"><i class="fa fa-plus"></i> <span>View Periods</span></button></a>
                    </div>
                </div>
            </div>

           
            <div class="row clearfix">
               
                 <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="card">
                        <div class="body">
                        <form name="addPeriodForm" id="addPeriodForm" method="post" action="{{ base_url() }}/apis/periods/update" novalidate>
						<div class="alert alert-warning alert-dismissible" role="alert" id="errorMsgBlock" style="display:none;">
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
                                <i class="fa fa-warning"></i> <span id="errorMsg">Fill up the form to update period.</span>
                            </div>
				
							 <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">   
                     <input type="hidden" name="item_id" value="{{page.period.id}}" required>
                      <div class="form-group">
                                    <label>Select School</label>
                                    <select name="school_id" class="form-control" data-placeholder="Select">
                                        <option value="1">Talank Autolabs</option>
                                         {% if page.schools %}
{% for classrow in page.schools %}
<option value="{{classrow.id}}">{{classrow.name}}</option>
{% endfor %}{% endif %}
                                        </select>
                                </div>
                    </div>            
                    <div class="col-lg-12 col-md-12 col-sm-12">
                         <div class="form-group">
                                    <label> Period Name (Optional)</label>
                                    <input name="name" type="text" class="form-control" value="{{page.period.name}}" placeholder="First Period, Lunch etc.">
                                </div>
                    </div>
                </div>
				
			
				
				 <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">                        
                      <div class="form-group">
                                    <label>Start Time *</label>
                                                                      
                                       <div class="demo-masked-input"><div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="icon-clock"></i></span>
                                            </div>
                                            <input type="text" name="start_time" class="form-control time12" placeholder="Ex: 9:30 am" value="{{page.period.start_time}}" required>
                                        </div></div>
                                </div>
                    </div>            
                    <div class="col-lg-12 col-md-12 col-sm-12">
                         <div class="form-group">
                                    <label>End Time *</label>
                                     <div class="demo-masked-input"><div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="icon-clock"></i></span>
                                            </div>
                                            <input type="text" name="end_time" class="form-control time12" placeholder="Ex: 10:30 am" value="{{page.period.end_time}}" required>
                                        </div></div>
                                </div>
                    </div>
                </div>
				
				
				
				<br>
                <button type="submit" class="btn btn-primary">SAVE PERIOD</button>
                </form>
                
                 <div id="registerOverlay" style="display:none;">
					<div style="margin: 68px; text-align: center;">
					<img src="{{ base_url() }}/images/loading.gif" style="width:64px;margin:20px auto;"/>
					<h4 style="margin-bottom: 10px;"><strong>Saving Period ...</strong></h4>
					<h5>Please wait...</h5>
					</div>					
					</div>
                 </div></div></div>
                 
                 
            </div>
			
        </div>
    </div>
{% endblock %}
{% block footer_scripts %}
<script src="{{ base_url() }}/scripts/manage-periods.js"></script>
<script src="{{ base_url() }}/assets/bundles/datatablescripts.bundle.js"></script>
<script src="{{ base_url() }}/vendor/sweetalert2/dist/sweetalert2.min.js"></script> <!-- SweetAlert Plugin Js -->  
<script src="{{ base_url() }}/assets/js/pages/tables/jquery-datatable.js"></script>
<script src="{{ base_url() }}/vendor/select2/select2.min.js"></script>    
<script src="{{ base_url() }}/assets/bundles/mainscripts.bundle.js"></script>
<script src="{{ base_url() }}/vendor/multi-select/js/jquery.multi-select.js"></script> <!-- Multi Select Plugin Js -->
<script src="{{ base_url() }}/vendor/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
<script src="{{ base_url() }}/vendor/jquery-inputmask/jquery.inputmask.bundle.js"></script>
<script src="{{ base_url() }}/vendor/jquery.maskedinput/jquery.maskedinput.min.js"></script>
<script src="{{ base_url() }}/assets/js/pages/forms/advanced-form-elements.js"></script>


<script type="text/javascript">
var $demoMaskedInput = $('.demo-masked-input');
     $demoMaskedInput.find('.time12').inputmask('hh:mm t', { placeholder: '__:__ _m', alias: 'time12', hourFormat: '12' });
            </script>
{% endblock %}